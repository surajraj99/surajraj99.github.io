{% include base_path %}

{% if post.header.teaser %}
  {% capture teaser %}{{ post.header.teaser }}{% endcapture %}
{% else %}
  {% assign teaser = site.teaser %}
{% endif %}

{% if post.id %}
  {% assign title = post.title | markdownify | remove: "<p>" | remove: "</p>" %}
{% else %}
  {% assign title = post.title %}
{% endif %}

<!-- _includes/archive-single-talk.html -->
<div class="talk-card">
  <h2 class="talk-title">
    {% if post.link %}
      <a href="{{ post.link }}" target="_blank" rel="noopener noreferrer">{{ post.title }}</a>
    {% else %}
      {{ post.title }}
    {% endif %}
  </h2>
  
  <p class="talk-details">
    <strong>Venue:</strong> <i>{{ post.venue }}</i> |
    <strong>Date:</strong> <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%B %d, %Y" }}</time> |
    <strong>Location:</strong> {{ post.location }}
  </p>
  
  {% if post.content %}
    <p class="talk-description">
      {{ post.content | markdownify }}
    </p>
  {% endif %}
  
  {% if post.link %}
    <p class="talk-link">
      <a href="{{ post.link }}" target="_blank" rel="noopener noreferrer">View Talk</a>
    </p>
  {% endif %}
</div>
